<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rlistings">
<title>Getting Started with rlistings • rlistings</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with rlistings">
<meta property="og:description" content="rlistings">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rlistings</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/rlistings.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/release-candidate">release-candidate</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.3-rc2">v0.2.3-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.2-rc1">v0.2.2-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.5">v0.2.5</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.4">v0.2.4</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.3">v0.2.3</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.2">v0.2.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.1">v0.2.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.0">v0.2.0</a> </div></li>
<!-- end dropdown for versions -->
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="../coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="../unit-test-report/">Unit test report</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/rlistings">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting Started with rlistings</h1>
                        <h4 data-toc-skip class="author">Emily de la Rua
and Gabriel Becker</h4>
            
            <h4 data-toc-skip class="date">2022-10-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/rlistings/blob/HEAD/vignettes/rlistings.Rmd" class="external-link"><code>vignettes/rlistings.Rmd</code></a></small>
      <div class="d-none name"><code>rlistings.Rmd</code></div>
    </div>

    
    
<hr>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette shows the general purpose and basic functionality of
the <code>rlistings</code> R package.</p>
<p>The <code>rlistings</code> R package contains value formatting and
ASCII rendering infrastructure for tables and listings useful for
clinical trials and other statistical analysis. The core functionality
is built on top of the <a href="https://insightsengineering.github.io/formatters/latest-tag/" class="external-link"><code>formatters</code>
package</a>.</p>
<p>Some of the key features currently available to customize listings
created using the <code>rlistings</code> package include:</p>
<ul>
<li>Key columns</li>
<li>Titles and footnotes</li>
</ul>
<p>The index of all available <code>rlistings</code> functions can be
found on the <a href="https://insightsengineering.github.io/rlistings/main/reference/index.html" class="external-link">rlistings
website functions reference</a>.</p>
<p>The <code>rlistings</code> package is intended for use in creating
simple one-dimensional listings. For construction of more complex tables
see the <a href="https://insightsengineering.github.io/rtables/" class="external-link"><code>rtables</code>
package</a>.</p>
<hr>
</div>
<div class="section level2">
<h2 id="building-a-listing">Building a Listing<a class="anchor" aria-label="anchor" href="#building-a-listing"></a>
</h2>
<p>With the basic framework provided in this package, a
<code>data.frame</code> object can be easily converted into a listing
using the <code>as_listing</code> function with several optional
customizations available.</p>
<p>A listing, at its core, is a set of observation-level data which is
to be rendered with particular formatting but without any sort of
aggregation or further analysis. In practice, this translates to to a
classed <code>data.frame</code> (or <code>tbl_df</code>) object with a
specialized print method. This means that, unlike tables created with
<code>rlistings</code>’ sibling package <code>rtables</code>, a listing
object is fundamentally the incoming <code>data.frame</code> with a few
annotations attached to it.</p>
<p>In the R code below we will give a basic example of how to create an
<code>rlistings</code> listing from a pre-processed data frame.</p>
<p>We first load in the <code>rlistings</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/insightsengineering/rlistings" class="external-link">rlistings</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: formatters</span></span>
<span><span class="co">#&gt; Loading required package: tibble</span></span></code></pre></div>
<p>For the purpose of this example we will use the dummy ADAE dataset
provided within the <code>formatters</code> package as our data frame,
which consists of 48 columns of adverse event patient data, and one or
more rows per patient.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adae</span> <span class="op">&lt;-</span> <span class="va">ex_adae</span></span></code></pre></div>
<p>Now we will create our listing.</p>
<p>The <code>df</code> parameter sets our <code>data.frame</code>
object. The <code>disp_cols</code> argument takes a vector of names of
any columns taken from the data frame that should be included in the
listing. Column headers are set by the <code>label</code> attribute of
each given variable. If there is no label associated with a given
variable then the variable name will be taken as a header instead. For
this example we will choose 8 arbitrary columns to display - 5 specific
to the patient and 3 relating to the adverse event.</p>
<p>Since the dataset consists of 1934 rows in total, we will use the
<code>head</code> function to print only the first 15 rows of the
listing.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>  disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"AETOXGR"</span>, <span class="st">"ARM"</span>, <span class="st">"AGE"</span>, <span class="st">"SEX"</span>, <span class="st">"RACE"</span>, <span class="st">"AEDECOD"</span>, <span class="st">"AESEV"</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">lsting</span>, <span class="fl">15</span><span class="op">)</span></span>
<span><span class="co">#&gt; Study Identifier   Unique Subject Identifier   Analysis Toxicity Grade   Description of Planned Arm   Age   Sex             Race              Dictionary-Derived Term   Severity/Intensity</span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;     AB12345          AB12345-BRA-1-id-134                 3                      A: Drug X            47     M              WHITE                  dcd B.2.1.2.1             MODERATE     </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-134                 3                      A: Drug X            47     M              WHITE                  dcd D.1.1.4.2             MODERATE     </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-134                 2                      A: Drug X            47     M              WHITE                  dcd A.1.1.1.2             MODERATE     </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-134                 2                      A: Drug X            47     M              WHITE                  dcd A.1.1.1.2             MODERATE     </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                 3                    C: Combination         35     F              WHITE                  dcd B.2.1.2.1             MODERATE     </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                 1                    C: Combination         35     F              WHITE                  dcd D.2.1.5.3               MILD       </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                 1                    C: Combination         35     F              WHITE                  dcd A.1.1.1.1               MILD       </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                 2                    C: Combination         35     F              WHITE                  dcd A.1.1.1.2             MODERATE     </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                 1                    C: Combination         35     F              WHITE                  dcd A.1.1.1.1               MILD       </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                 5                    C: Combination         35     F              WHITE                  dcd D.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-236                 5                      B: Placebo           32     M    BLACK OR AFRICAN AMERICAN        dcd B.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-236                 5                      B: Placebo           32     M    BLACK OR AFRICAN AMERICAN        dcd B.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-236                 5                      B: Placebo           32     M    BLACK OR AFRICAN AMERICAN        dcd B.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-265                 2                    C: Combination         25     M              WHITE                  dcd C.2.1.2.1             MODERATE     </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-265                 3                    C: Combination         25     M              WHITE                  dcd D.1.1.4.2             MODERATE</span></span></code></pre></div>
<p>In the listing output above you can see that there are several rows
associated with each patient, resulting in many instances of repeated
values over several columns. This can cleaned up by setting key columns
with the <code>key_cols</code> argument.</p>
<p>We can also declare the set of (non-key) display columns by
compliment, via the <code>non_disp_col</code> argument. If specifies
this argument accepts names of columns which will non be displayed. All
other non-key columns are then displayed.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>    df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>    non_disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">adae</span><span class="op">)</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">lsting</span>, <span class="fl">15</span><span class="op">)</span></span>
<span><span class="co">#&gt; Study Identifier   Unique Subject Identifier   Subject Identifier for the Study   Study Site Identifier   Age   Sex             Race              Country   Investigator Identifier   Description of Planned Arm   Planned Arm Code   Description of Actual Arm   Actual Arm Code   Stratification Factor 1   Stratification Factor 2   Continous Level Biomarker 1   Categorical Level Biomarker 2   Intent-To-Treat Population Flag   Safety Population Flag   Response Evaluable Population Flag   Biomarker Evaluable Population Flag   Date of Randomization   Datetime of First Exposure to Treatment   Datetime of Last Exposure to Treatment   End of Study Status   End of Study Date   End of Study Relative Day   Reason for Discontinuation from Study   Date of Death   Date Last Known Alive   NOT A STANDARD BUT NEEDED FOR RCD   Analysis Sequence Number   Sponsor-Defined Identifier   Reported Term for the Adverse Event   Lowest Level Term   Dictionary-Derived Term   High Level Term   High Level Group Term   Body System or Organ Class   Primary System Organ Class</span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;     AB12345          AB12345-BRA-1-id-134                   id-134                        BRA-1           47     M              WHITE               BRA              BRA-1                    A: Drug X                 ARM A                 A: Drug X                ARM A                   B                        S2                   6.46299057842479                      LOW                               Y                            Y                              Y                                     N                         2021-06-09               2021-06-10 13:26:53.956201                2023-06-11 01:05:17.956201              COMPLETED           2023-06-11                  731                               NA                      2023-06-11          2023-06-29                     63113904                           1                           1                           trm B.2.1.2.1                llt B.2.1.2.1          dcd B.2.1.2.1          hlt B.2.1.2          hlgt B.2.1                   cl B.2                        cl B           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-134                   id-134                        BRA-1           47     M              WHITE               BRA              BRA-1                    A: Drug X                 ARM A                 A: Drug X                ARM A                   B                        S2                   6.46299057842479                      LOW                               Y                            Y                              Y                                     N                         2021-06-09               2021-06-10 13:26:53.956201                2023-06-11 01:05:17.956201              COMPLETED           2023-06-11                  731                               NA                      2023-06-11          2023-06-29                     63113904                           2                           2                           trm D.1.1.4.2                llt D.1.1.4.2          dcd D.1.1.4.2          hlt D.1.1.4          hlgt D.1.1                   cl D.1                        cl D           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-134                   id-134                        BRA-1           47     M              WHITE               BRA              BRA-1                    A: Drug X                 ARM A                 A: Drug X                ARM A                   B                        S2                   6.46299057842479                      LOW                               Y                            Y                              Y                                     N                         2021-06-09               2021-06-10 13:26:53.956201                2023-06-11 01:05:17.956201              COMPLETED           2023-06-11                  731                               NA                      2023-06-11          2023-06-29                     63113904                           3                           3                           trm A.1.1.1.2                llt A.1.1.1.2          dcd A.1.1.1.2          hlt A.1.1.1          hlgt A.1.1                   cl A.1                        cl A           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-134                   id-134                        BRA-1           47     M              WHITE               BRA              BRA-1                    A: Drug X                 ARM A                 A: Drug X                ARM A                   B                        S2                   6.46299057842479                      LOW                               Y                            Y                              Y                                     N                         2021-06-09               2021-06-10 13:26:53.956201                2023-06-11 01:05:17.956201              COMPLETED           2023-06-11                  731                               NA                      2023-06-11          2023-06-29                     63113904                           4                           4                           trm A.1.1.1.2                llt A.1.1.1.2          dcd A.1.1.1.2          hlt A.1.1.1          hlgt A.1.1                   cl A.1                        cl A           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                   id-141                        BRA-1           35     F              WHITE               BRA              BRA-1                  C: Combination              ARM C              C: Combination              ARM C                   B                        S1                   7.51607612428241                     HIGH                               Y                            Y                              Y                                     Y                         2021-02-25               2021-02-28 23:47:16.956201                2023-03-01 11:25:40.956201              COMPLETED           2023-03-01                  731                               NA                      2023-03-01          2023-03-30                     63113904                           1                           1                           trm B.2.1.2.1                llt B.2.1.2.1          dcd B.2.1.2.1          hlt B.2.1.2          hlgt B.2.1                   cl B.2                        cl B           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                   id-141                        BRA-1           35     F              WHITE               BRA              BRA-1                  C: Combination              ARM C              C: Combination              ARM C                   B                        S1                   7.51607612428241                     HIGH                               Y                            Y                              Y                                     Y                         2021-02-25               2021-02-28 23:47:16.956201                2023-03-01 11:25:40.956201              COMPLETED           2023-03-01                  731                               NA                      2023-03-01          2023-03-30                     63113904                           2                           2                           trm D.2.1.5.3                llt D.2.1.5.3          dcd D.2.1.5.3          hlt D.2.1.5          hlgt D.2.1                   cl D.2                        cl D           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                   id-141                        BRA-1           35     F              WHITE               BRA              BRA-1                  C: Combination              ARM C              C: Combination              ARM C                   B                        S1                   7.51607612428241                     HIGH                               Y                            Y                              Y                                     Y                         2021-02-25               2021-02-28 23:47:16.956201                2023-03-01 11:25:40.956201              COMPLETED           2023-03-01                  731                               NA                      2023-03-01          2023-03-30                     63113904                           3                           3                           trm A.1.1.1.1                llt A.1.1.1.1          dcd A.1.1.1.1          hlt A.1.1.1          hlgt A.1.1                   cl A.1                        cl A           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                   id-141                        BRA-1           35     F              WHITE               BRA              BRA-1                  C: Combination              ARM C              C: Combination              ARM C                   B                        S1                   7.51607612428241                     HIGH                               Y                            Y                              Y                                     Y                         2021-02-25               2021-02-28 23:47:16.956201                2023-03-01 11:25:40.956201              COMPLETED           2023-03-01                  731                               NA                      2023-03-01          2023-03-30                     63113904                           4                           4                           trm A.1.1.1.2                llt A.1.1.1.2          dcd A.1.1.1.2          hlt A.1.1.1          hlgt A.1.1                   cl A.1                        cl A           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                   id-141                        BRA-1           35     F              WHITE               BRA              BRA-1                  C: Combination              ARM C              C: Combination              ARM C                   B                        S1                   7.51607612428241                     HIGH                               Y                            Y                              Y                                     Y                         2021-02-25               2021-02-28 23:47:16.956201                2023-03-01 11:25:40.956201              COMPLETED           2023-03-01                  731                               NA                      2023-03-01          2023-03-30                     63113904                           5                           5                           trm A.1.1.1.1                llt A.1.1.1.1          dcd A.1.1.1.1          hlt A.1.1.1          hlgt A.1.1                   cl A.1                        cl A           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-141                   id-141                        BRA-1           35     F              WHITE               BRA              BRA-1                  C: Combination              ARM C              C: Combination              ARM C                   B                        S1                   7.51607612428241                     HIGH                               Y                            Y                              Y                                     Y                         2021-02-25               2021-02-28 23:47:16.956201                2023-03-01 11:25:40.956201              COMPLETED           2023-03-01                  731                               NA                      2023-03-01          2023-03-30                     63113904                           6                           6                           trm D.1.1.1.1                llt D.1.1.1.1          dcd D.1.1.1.1          hlt D.1.1.1          hlgt D.1.1                   cl D.1                        cl D           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-236                   id-236                        BRA-1           32     M    BLACK OR AFRICAN AMERICAN     BRA              BRA-1                    B: Placebo                ARM B                B: Placebo                ARM B                   A                        S2                   7.66300121077566                     HIGH                               Y                            Y                              Y                                     Y                         2021-08-17               2021-08-21 18:13:25.956201                2023-08-22 05:51:49.956201              COMPLETED           2023-08-22                  731                               NA                      2023-08-22          2023-09-14                     63113904                           1                           1                           trm B.1.1.1.1                llt B.1.1.1.1          dcd B.1.1.1.1          hlt B.1.1.1          hlgt B.1.1                   cl B.1                        cl B           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-236                   id-236                        BRA-1           32     M    BLACK OR AFRICAN AMERICAN     BRA              BRA-1                    B: Placebo                ARM B                B: Placebo                ARM B                   A                        S2                   7.66300121077566                     HIGH                               Y                            Y                              Y                                     Y                         2021-08-17               2021-08-21 18:13:25.956201                2023-08-22 05:51:49.956201              COMPLETED           2023-08-22                  731                               NA                      2023-08-22          2023-09-14                     63113904                           2                           2                           trm B.1.1.1.1                llt B.1.1.1.1          dcd B.1.1.1.1          hlt B.1.1.1          hlgt B.1.1                   cl B.1                        cl B           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-236                   id-236                        BRA-1           32     M    BLACK OR AFRICAN AMERICAN     BRA              BRA-1                    B: Placebo                ARM B                B: Placebo                ARM B                   A                        S2                   7.66300121077566                     HIGH                               Y                            Y                              Y                                     Y                         2021-08-17               2021-08-21 18:13:25.956201                2023-08-22 05:51:49.956201              COMPLETED           2023-08-22                  731                               NA                      2023-08-22          2023-09-14                     63113904                           3                           3                           trm B.1.1.1.1                llt B.1.1.1.1          dcd B.1.1.1.1          hlt B.1.1.1          hlgt B.1.1                   cl B.1                        cl B           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-265                   id-265                        BRA-1           25     M              WHITE               BRA              BRA-1                  C: Combination              ARM C              C: Combination              ARM C                   A                        S2                    10.323346349886                    MEDIUM                              Y                            Y                              Y                                     N                         2020-05-09               2020-05-13 00:38:12.956201                2021-09-18 15:23:35.956201            DISCONTINUED          2021-09-18                  494                  WITHDRAWAL BY PARENT/GUARDIAN        2021-09-18          2021-10-08                     63113904                           1                           1                           trm C.2.1.2.1                llt C.2.1.2.1          dcd C.2.1.2.1          hlt C.2.1.2          hlgt C.2.1                   cl C.2                        cl C           </span></span>
<span><span class="co">#&gt;                      AB12345-BRA-1-id-265                   id-265                        BRA-1           25     M              WHITE               BRA              BRA-1                  C: Combination              ARM C              C: Combination              ARM C                   A                        S2                    10.323346349886                    MEDIUM                              Y                            Y                              Y                                     N                         2020-05-09               2020-05-13 00:38:12.956201                2021-09-18 15:23:35.956201            DISCONTINUED          2021-09-18                  494                  WITHDRAWAL BY PARENT/GUARDIAN        2021-09-18          2021-10-08                     63113904                           2                           2                           trm D.1.1.4.2                llt D.1.1.4.2          dcd D.1.1.4.2          hlt D.1.1.4          hlgt D.1.1                   cl D.1                        cl D</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="key-columns">Key Columns<a class="anchor" aria-label="anchor" href="#key-columns"></a>
</h2>
<p>Key columns act as contextual identifiers for observations. Their
core behavioral feature is that sequentially repeated values are not
displayed when they do not add information.</p>
<p>In practice, this means that each value of a key column is printed
only once per unique combination of values for all higher-priority
(i.e., to the left of it) key columns (per page). Locations where a
repeated value would have been printed within a key column for the same
higher-priority-key combination on the same page are rendered as empty
space. Note, determination of which elements to display within a key
column at rendering is based on the underlying value; any non-default
formatting applied to the column has no effect on this behavior.</p>
<p>The <code>key_cols</code> argument takes a vector of column names
identifying the key columns for the listing. A listing is always sorted
by its key columns (with order defining the sort precedence). Below we
specify trial arm and patient ID as key columns to improve
readability.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>  disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"AGE"</span>, <span class="st">"SEX"</span>, <span class="st">"RACE"</span>, <span class="st">"AEDECOD"</span>, <span class="st">"AESEV"</span><span class="op">)</span>,</span>
<span>  key_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"AETOXGR"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; sorting incoming data by key columns</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">lsting</span>, <span class="fl">15</span><span class="op">)</span></span>
<span><span class="co">#&gt; Unique Subject Identifier   Analysis Toxicity Grade   Description of Planned Arm   Age   Sex             Race              Dictionary-Derived Term   Severity/Intensity</span></span>
<span><span class="co">#&gt; ———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;   AB12345-BRA-1-id-134                 2                      A: Drug X            47     M              WHITE                  dcd A.1.1.1.2             MODERATE     </span></span>
<span><span class="co">#&gt;                                                               A: Drug X            47     M              WHITE                  dcd A.1.1.1.2             MODERATE     </span></span>
<span><span class="co">#&gt;                                        3                      A: Drug X            47     M              WHITE                  dcd B.2.1.2.1             MODERATE     </span></span>
<span><span class="co">#&gt;                                                               A: Drug X            47     M              WHITE                  dcd D.1.1.4.2             MODERATE     </span></span>
<span><span class="co">#&gt;   AB12345-BRA-1-id-141                 1                    C: Combination         35     F              WHITE                  dcd D.2.1.5.3               MILD       </span></span>
<span><span class="co">#&gt;                                                             C: Combination         35     F              WHITE                  dcd A.1.1.1.1               MILD       </span></span>
<span><span class="co">#&gt;                                                             C: Combination         35     F              WHITE                  dcd A.1.1.1.1               MILD       </span></span>
<span><span class="co">#&gt;                                        2                    C: Combination         35     F              WHITE                  dcd A.1.1.1.2             MODERATE     </span></span>
<span><span class="co">#&gt;                                        3                    C: Combination         35     F              WHITE                  dcd B.2.1.2.1             MODERATE     </span></span>
<span><span class="co">#&gt;                                        5                    C: Combination         35     F              WHITE                  dcd D.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;   AB12345-BRA-1-id-236                 5                      B: Placebo           32     M    BLACK OR AFRICAN AMERICAN        dcd B.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;                                                               B: Placebo           32     M    BLACK OR AFRICAN AMERICAN        dcd B.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;                                                               B: Placebo           32     M    BLACK OR AFRICAN AMERICAN        dcd B.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;   AB12345-BRA-1-id-265                 2                    C: Combination         25     M              WHITE                  dcd C.2.1.2.1             MODERATE     </span></span>
<span><span class="co">#&gt;                                        3                    C: Combination         25     M              WHITE                  dcd D.1.1.4.2             MODERATE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="titles-and-footers">Titles and Footers<a class="anchor" aria-label="anchor" href="#titles-and-footers"></a>
</h2>
<p>Additionally, an <code>rlistings</code> listing can be annotated with
two types of header information (main title and subtitles) and two types
of footer information (main footers and provenance footers). A single
title can be set using the <code>main_title</code> argument, while one
or more subtitles, main footers, and provenance footers can be set by
the <code>subtitles</code>, <code>main_footer</code> and
<code>prov_footer</code> arguments respectively. These are demonstrated
in the following updated listing.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>  disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"AGE"</span>, <span class="st">"SEX"</span>, <span class="st">"RACE"</span>, <span class="st">"AEDECOD"</span>, <span class="st">"AESEV"</span><span class="op">)</span>,</span>
<span>  key_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"AETOXGR"</span><span class="op">)</span>,</span>
<span>  main_title <span class="op">=</span> <span class="st">"Main Title"</span>,</span>
<span>  subtitles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Subtitle A"</span>, <span class="st">"Subtitle B"</span><span class="op">)</span>,</span>
<span>  main_footer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Main Footer A"</span>, <span class="st">"Main Footer B"</span>, <span class="st">"Main Footer C"</span><span class="op">)</span>,</span>
<span>  prov_footer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Provenance Footer A"</span>, <span class="st">"Provenance Footer B"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; sorting incoming data by key columns</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">lsting</span>, <span class="fl">15</span><span class="op">)</span></span>
<span><span class="co">#&gt; Main Title</span></span>
<span><span class="co">#&gt; Subtitle A</span></span>
<span><span class="co">#&gt; Subtitle B</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt; Unique Subject Identifier   Analysis Toxicity Grade   Description of Planned Arm   Age   Sex             Race              Dictionary-Derived Term   Severity/Intensity</span></span>
<span><span class="co">#&gt; ———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;   AB12345-BRA-1-id-134                 2                      A: Drug X            47     M              WHITE                  dcd A.1.1.1.2             MODERATE     </span></span>
<span><span class="co">#&gt;                                                               A: Drug X            47     M              WHITE                  dcd A.1.1.1.2             MODERATE     </span></span>
<span><span class="co">#&gt;                                        3                      A: Drug X            47     M              WHITE                  dcd B.2.1.2.1             MODERATE     </span></span>
<span><span class="co">#&gt;                                                               A: Drug X            47     M              WHITE                  dcd D.1.1.4.2             MODERATE     </span></span>
<span><span class="co">#&gt;   AB12345-BRA-1-id-141                 1                    C: Combination         35     F              WHITE                  dcd D.2.1.5.3               MILD       </span></span>
<span><span class="co">#&gt;                                                             C: Combination         35     F              WHITE                  dcd A.1.1.1.1               MILD       </span></span>
<span><span class="co">#&gt;                                                             C: Combination         35     F              WHITE                  dcd A.1.1.1.1               MILD       </span></span>
<span><span class="co">#&gt;                                        2                    C: Combination         35     F              WHITE                  dcd A.1.1.1.2             MODERATE     </span></span>
<span><span class="co">#&gt;                                        3                    C: Combination         35     F              WHITE                  dcd B.2.1.2.1             MODERATE     </span></span>
<span><span class="co">#&gt;                                        5                    C: Combination         35     F              WHITE                  dcd D.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;   AB12345-BRA-1-id-236                 5                      B: Placebo           32     M    BLACK OR AFRICAN AMERICAN        dcd B.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;                                                               B: Placebo           32     M    BLACK OR AFRICAN AMERICAN        dcd B.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;                                                               B: Placebo           32     M    BLACK OR AFRICAN AMERICAN        dcd B.1.1.1.1              SEVERE      </span></span>
<span><span class="co">#&gt;   AB12345-BRA-1-id-265                 2                    C: Combination         25     M              WHITE                  dcd C.2.1.2.1             MODERATE     </span></span>
<span><span class="co">#&gt;                                        3                    C: Combination         25     M              WHITE                  dcd D.1.1.4.2             MODERATE     </span></span>
<span><span class="co">#&gt; ———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Footer A</span></span>
<span><span class="co">#&gt; Main Footer B</span></span>
<span><span class="co">#&gt; Main Footer C</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Provenance Footer A</span></span>
<span><span class="co">#&gt; Provenance Footer B</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>In this vignette you have learned how to implement the basic listing
framework provided by the <code>rlistings</code> package to build a
simple listing. You have also seen examples demonstrating how the
optional parameters of the <code>as_listing</code> function can be set
to customize and annotate your listings.</p>
<p><strong>For more information please explore the <a href="https://insightsengineering.github.io/rlistings/main/" class="external-link">rlistings
website</a>.</strong></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>rlistings is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>

  

  

  </body>
</html>
