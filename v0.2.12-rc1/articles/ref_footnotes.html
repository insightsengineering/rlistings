<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Referential Footnotes • rlistings</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Referential Footnotes">
<link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rlistings</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.12</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/rlistings.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/col_formatting.html">Column Formatting</a></li>
    <li><a class="dropdown-item" href="../articles/large_list.html">Tips when exporting large listing</a></li>
    <li><a class="dropdown-item" href="../articles/pagination.html">Pagination</a></li>
    <li><a class="dropdown-item" href="../articles/ref_footnotes.html">Referential Footnotes</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports">
<li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report-non-cran/">Non-CRAN unit test report</a></li>
  </ul>
</li>
      <div><li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/release-candidate">release-candidate</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.12-rc1">v0.2.12-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.11">v0.2.11</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.11-rc1">v0.2.11-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.10">v0.2.10</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.9">v0.2.9</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.7">v0.2.7</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.6-rc1">v0.2.6-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.5">v0.2.5</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.4">v0.2.4</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.3">v0.2.3</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.3-rc2">v0.2.3-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.2">v0.2.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.2-rc1">v0.2.2-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.1">v0.2.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rlistings/v0.2.0">v0.2.0</a>
</div>
</li></div>
</ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/rlistings"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Referential Footnotes</h1>
                        <h4 data-toc-skip class="author">Emily de la
Rua</h4>
            
            <h4 data-toc-skip class="date">2025-06-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/rlistings/blob/v0.2.12-rc1/vignettes/ref_footnotes.Rmd" class="external-link"><code>vignettes/ref_footnotes.Rmd</code></a></small>
      <div class="d-none name"><code>ref_footnotes.Rmd</code></div>
    </div>

    
    
<hr>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>There is currently no formal method for adding referential footnotes
to a listing object. This vignette demonstrates how referential
footnotes can be added to a <code>listing_df</code> object via a
workaround applied during pre-processing.</p>
<p>To learn more about how listings are constructed using the
<code>rlistings</code> package, see the <a href="rlistings.html">Getting
Started vignette</a>.</p>
<hr>
</div>
<div class="section level2">
<h2 id="referential-footnotes-workaround">Referential Footnotes Workaround<a class="anchor" aria-label="anchor" href="#referential-footnotes-workaround"></a>
</h2>
<p>When creating a listing with the <code>rlistings</code> package, you
may want to add referential footnotes, similar to how referential
footnotes can be added to <code>rtable</code> objects. Since there is no
formal method in <code>rlistings</code> for applying referential
footnotes to a <code>listing_df</code> object, we will demonstrate how a
workaround can be applied to add a set of pseudo-referential footnotes
to your listing.</p>
<p>To demonstrate, we will create a basic listing below.</p>
<p>We begin by loading in the <code>rlistings</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/rlistings/">rlistings</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<p>For this example, we will use the dummy ADAE dataset provided within
the <code>formatters</code> package as our data frame, which consists of
48 columns of adverse event patient data, and one or more rows per
patient. For the purpose of this example, we will subset the data and
only use the first 30 records of the dataset.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adae</span> <span class="op">&lt;-</span> <span class="va">ex_adae</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>, <span class="op">]</span></span></code></pre></div>
<p>Now we will create a basic listing.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>  key_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"USUBJID"</span>, <span class="st">"ASEQ"</span>, <span class="st">"ASTDY"</span><span class="op">)</span>,</span>
<span>  disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMRKR1"</span>, <span class="st">"AESEV"</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">lsting</span></span>
<span><span class="co">#&gt; Description of Planned Arm   Unique Subject Identifier   Analysis Sequence Number   Analysis Start Relative Day   Continous Level Biomarker 1   Severity/Intensity</span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;         A: Drug X              AB12345-BRA-1-id-134                 1                           251                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           304                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     3                           497                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     4                           608                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-42                 1                           39                     2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           65                     2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     3                           95                     2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     4                           160                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     5                           292                    2.26753940777848                MILD       </span></span>
<span><span class="co">#&gt;                                                                     6                           460                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     7                           470                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     8                           476                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     9                           497                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     10                          642                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;         B: Placebo             AB12345-BRA-1-id-236                 1                           22                     7.66300121077566               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     2                           181                    7.66300121077566               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     3                           702                    7.66300121077566               SEVERE      </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-65                 1                           145                    7.34091885189189              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           191                    7.34091885189189                MILD       </span></span>
<span><span class="co">#&gt;                                                                     3                           233                    7.34091885189189               SEVERE      </span></span>
<span><span class="co">#&gt;       C: Combination           AB12345-BRA-1-id-141                 1                           259                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           303                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     3                           493                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     4                           600                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     5                           635                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     6                           730                    7.51607612428241               SEVERE      </span></span>
<span><span class="co">#&gt;                                AB12345-BRA-1-id-265                 1                           48                      10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           200                     10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     3                           392                     10.323346349886               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     4                           403                     10.323346349886               SEVERE</span></span></code></pre></div>
<p>For this example, we will add 4 referential footnotes.</p>
<ol style="list-style-type: decimal">
<li>In the <code>ARM</code> column, for all records with
<code>ARM = "A: Drug X"</code> and <code>ASEQ</code> equal to 1 or
2.</li>
<li>In the <code>ASTDY</code> column, for imputed dates, where imputed
dates are indicated by the <code>ASTDTF</code> variable.</li>
<li>In the <code>AESEV</code> column, for all records with
<code>AETOXGR</code> equal to 5.</li>
<li>In the <code>USUBJID</code> column header.</li>
</ol>
<p>Footnote text can be supplied either as a vector, where each element
is a new footnote, or as a single string with footnotes separated by the
new line (<code>\n</code>) character. For example, see the following
list of referential footnotes:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ref_fns</span> <span class="op">&lt;-</span> <span class="st">"*   ASEQ 1 or 2\n**  Analysis start date is imputed\n***  Records with ATOXGR = 5\n**** ID column"</span></span></code></pre></div>
<p>We start with our first footnote in the <code>ARM</code> column for
records with arm “A: Drug X” which also have analysis sequence number 1
or 2. Referential footnotes can be added to any variable by converting
the variable to a factor, editing the variable values, and adding a
corresponding footnote below the listing. We will add our first
referential footnote in the <code>ARM</code> column. To ensure that
levels are correctly ordered, be sure to specify the new level order
when mutating your variable.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Save variable labels for your data to add back in after mutating dataset</span></span>
<span><span class="va">df_lbls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/var_labels.html" class="external-link">var_labels</a></span><span class="op">(</span><span class="va">adae</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Mutate variable where referential footnotes are to be added according to your conditions</span></span>
<span><span class="co"># Specify order of levels with new referential footnotes added</span></span>
<span><span class="va">adae</span> <span class="op">&lt;-</span> <span class="va">adae</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  ARM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">ARM</span> <span class="op">==</span> <span class="st">"A: Drug X"</span> <span class="op">&amp;</span> <span class="va">ASEQ</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ARM</span>, <span class="st">" (1)"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ARM</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">adae</span><span class="op">$</span><span class="va">ARM</span><span class="op">)</span>, <span class="va">paste0</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"(1)"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add data variable labels back in</span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/var_labels.html" class="external-link">var_labels</a></span><span class="op">(</span><span class="va">adae</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">df_lbls</span></span>
<span></span>
<span><span class="co"># Generate listing</span></span>
<span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>  key_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"USUBJID"</span>, <span class="st">"ASEQ"</span>, <span class="st">"ASTDY"</span><span class="op">)</span>,</span>
<span>  disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMRKR1"</span>, <span class="st">"AESEV"</span><span class="op">)</span>,</span>
<span>  main_footer <span class="op">=</span> <span class="st">"(1)   ASEQ 1 or 2"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">lsting</span></span>
<span><span class="co">#&gt; Description of Planned Arm   Unique Subject Identifier   Analysis Sequence Number   Analysis Start Relative Day   Continous Level Biomarker 1   Severity/Intensity</span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;         A: Drug X              AB12345-BRA-1-id-134                 3                           497                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     4                           608                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-42                 3                           95                     2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     4                           160                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     5                           292                    2.26753940777848                MILD       </span></span>
<span><span class="co">#&gt;                                                                     6                           460                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     7                           470                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     8                           476                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     9                           497                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     10                          642                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;         B: Placebo             AB12345-BRA-1-id-236                 1                           22                     7.66300121077566               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     2                           181                    7.66300121077566               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     3                           702                    7.66300121077566               SEVERE      </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-65                 1                           145                    7.34091885189189              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           191                    7.34091885189189                MILD       </span></span>
<span><span class="co">#&gt;                                                                     3                           233                    7.34091885189189               SEVERE      </span></span>
<span><span class="co">#&gt;       C: Combination           AB12345-BRA-1-id-141                 1                           259                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           303                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     3                           493                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     4                           600                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     5                           635                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     6                           730                    7.51607612428241               SEVERE      </span></span>
<span><span class="co">#&gt;                                AB12345-BRA-1-id-265                 1                           48                      10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           200                     10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     3                           392                     10.323346349886               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     4                           403                     10.323346349886               SEVERE      </span></span>
<span><span class="co">#&gt;             NA                 AB12345-BRA-1-id-134                 1                           251                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           304                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-42                 1                           39                     2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           65                     2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (1)   ASEQ 1 or 2</span></span></code></pre></div>
<p>Additional referential footnotes can be added to the data be
repeating the above steps.</p>
<p>For example, we can add the second referential footnote to the
<code>ASTDY</code> column for imputed analysis start days. We use dummy
variable <code>ASTDTF</code> to indicate imputed analysis start dates.
When adding referential footnotes to numeric variables, the variables
must be converted to factors.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save variable labels for your data to add back in after mutating dataset</span></span>
<span><span class="va">df_lbls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/var_labels.html" class="external-link">var_labels</a></span><span class="op">(</span><span class="va">adae</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Mutate variable where referential footnotes are to be added according to your conditions</span></span>
<span><span class="co"># Specify order of levels with new referential footnotes added</span></span>
<span><span class="va">adae</span> <span class="op">&lt;-</span> <span class="va">adae</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ASTDTF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y"</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.75</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ASTDY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ASTDTF</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ASTDY</span><span class="op">)</span>, <span class="st">"**"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ASTDY</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">adae</span><span class="op">$</span><span class="va">ASTDY</span><span class="op">)</span><span class="op">)</span>, <span class="va">paste0</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"**"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">ASTDTF</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add data variable labels back in</span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/var_labels.html" class="external-link">var_labels</a></span><span class="op">(</span><span class="va">adae</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">df_lbls</span></span>
<span></span>
<span><span class="co"># Generate listing</span></span>
<span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>  key_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"USUBJID"</span>, <span class="st">"ASEQ"</span>, <span class="st">"ASTDY"</span><span class="op">)</span>,</span>
<span>  disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMRKR1"</span>, <span class="st">"AESEV"</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">lsting</span></span>
<span><span class="co">#&gt; Description of Planned Arm   Unique Subject Identifier   Analysis Sequence Number   Analysis Start Relative Day   Continous Level Biomarker 1   Severity/Intensity</span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;         A: Drug X              AB12345-BRA-1-id-134                 3                           497                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     4                          608**                   6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-42                 3                          95**                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     4                          160**                   2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     5                           292                    2.26753940777848                MILD       </span></span>
<span><span class="co">#&gt;                                                                     6                           460                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     7                           470                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     8                           476                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     9                           497                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     10                          642                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;         B: Placebo             AB12345-BRA-1-id-236                 1                           22                     7.66300121077566               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     2                           181                    7.66300121077566               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     3                           702                    7.66300121077566               SEVERE      </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-65                 1                           145                    7.34091885189189              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                          191**                   7.34091885189189                MILD       </span></span>
<span><span class="co">#&gt;                                                                     3                           233                    7.34091885189189               SEVERE      </span></span>
<span><span class="co">#&gt;       C: Combination           AB12345-BRA-1-id-141                 1                           259                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                          303**                   7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     3                          493**                   7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     4                           600                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     5                           635                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     6                           730                    7.51607612428241               SEVERE      </span></span>
<span><span class="co">#&gt;                                AB12345-BRA-1-id-265                 1                           48                      10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                          200**                    10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     3                           392                     10.323346349886               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     4                           403                     10.323346349886               SEVERE      </span></span>
<span><span class="co">#&gt;             NA                 AB12345-BRA-1-id-134                 1                           251                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           304                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-42                 1                          39**                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           65                     2.26753940777848               SEVERE</span></span></code></pre></div>
<p>Next we can add our third referential footnote to the
<code>AESEV</code> column for records with analysis toxicity grade
5.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Save variable labels for your data to add back in after mutating dataset</span></span>
<span><span class="va">df_lbls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/var_labels.html" class="external-link">var_labels</a></span><span class="op">(</span><span class="va">adae</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Mutate variable where referential footnotes are to be added according to your conditions</span></span>
<span><span class="co"># Specify order of levels with new referential footnotes added</span></span>
<span><span class="va">adae</span> <span class="op">&lt;-</span> <span class="va">adae</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  AESEV <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AETOXGR</span> <span class="op">==</span> <span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">AESEV</span>, <span class="st">"***"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">AESEV</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">adae</span><span class="op">$</span><span class="va">AESEV</span><span class="op">)</span>, <span class="va">paste0</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"***"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add data variable labels back in</span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/var_labels.html" class="external-link">var_labels</a></span><span class="op">(</span><span class="va">adae</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">df_lbls</span></span>
<span></span>
<span><span class="co"># Generate listing</span></span>
<span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>  key_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"USUBJID"</span>, <span class="st">"ASEQ"</span>, <span class="st">"ASTDY"</span><span class="op">)</span>,</span>
<span>  disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMRKR1"</span>, <span class="st">"AESEV"</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">lsting</span></span>
<span><span class="co">#&gt; Description of Planned Arm   Unique Subject Identifier   Analysis Sequence Number   Analysis Start Relative Day   Continous Level Biomarker 1   Severity/Intensity</span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;         A: Drug X              AB12345-BRA-1-id-134                 3                           497                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     4                          608**                   6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-42                 3                          95**                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     4                          160**                   2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     5                           292                    2.26753940777848                MILD       </span></span>
<span><span class="co">#&gt;                                                                     6                           460                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     7                           470                    2.26753940777848             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                     8                           476                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     9                           497                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                     10                          642                    2.26753940777848             SEVERE***     </span></span>
<span><span class="co">#&gt;         B: Placebo             AB12345-BRA-1-id-236                 1                           22                     7.66300121077566             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                     2                           181                    7.66300121077566             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                     3                           702                    7.66300121077566             SEVERE***     </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-65                 1                           145                    7.34091885189189              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                          191**                   7.34091885189189                MILD       </span></span>
<span><span class="co">#&gt;                                                                     3                           233                    7.34091885189189             SEVERE***     </span></span>
<span><span class="co">#&gt;       C: Combination           AB12345-BRA-1-id-141                 1                           259                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                          303**                   7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     3                          493**                   7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     4                           600                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     5                           635                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                     6                           730                    7.51607612428241             SEVERE***     </span></span>
<span><span class="co">#&gt;                                AB12345-BRA-1-id-265                 1                           48                      10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                          200**                    10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     3                           392                     10.323346349886             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                     4                           403                     10.323346349886               SEVERE      </span></span>
<span><span class="co">#&gt;             NA                 AB12345-BRA-1-id-134                 1                           251                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           304                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                 AB12345-BRA-1-id-42                 1                          39**                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                     2                           65                     2.26753940777848             SEVERE***</span></span></code></pre></div>
<p>Referential footnotes can also be added to column header labels.
Suppose we want to add our fourth referential footnote to the
<code>USUBJID</code> column label. We can do so by editing the
<code>USUBJID</code> variable label and adding the footnote text as
follows:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Modify data variable label</span></span>
<span><span class="va">adae</span> <span class="op">&lt;-</span> <span class="va">adae</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/var_relabel.html" class="external-link">var_relabel</a></span><span class="op">(</span></span>
<span>  USUBJID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/var_labels.html" class="external-link">var_labels</a></span><span class="op">(</span><span class="va">adae</span><span class="op">)</span><span class="op">[[</span><span class="st">"USUBJID"</span><span class="op">]</span><span class="op">]</span>, <span class="st">"****"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate listing</span></span>
<span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>  key_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"USUBJID"</span>, <span class="st">"ASTDY"</span>, <span class="st">"ASEQ"</span><span class="op">)</span>,</span>
<span>  disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMRKR1"</span>, <span class="st">"AESEV"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">lsting</span></span>
<span><span class="co">#&gt; Description of Planned Arm   Unique Subject Identifier****   Analysis Start Relative Day   Analysis Sequence Number   Continous Level Biomarker 1   Severity/Intensity</span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;         A: Drug X                AB12345-BRA-1-id-134                    497                          3                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         608**                         4                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                   AB12345-BRA-1-id-42                   95**                          3                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         160**                         4                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          292                          5                    2.26753940777848                MILD       </span></span>
<span><span class="co">#&gt;                                                                          460                          6                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          470                          7                    2.26753940777848             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                          476                          8                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          497                          9                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                          642                          10                   2.26753940777848             SEVERE***     </span></span>
<span><span class="co">#&gt;         B: Placebo               AB12345-BRA-1-id-236                    22                           1                    7.66300121077566             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                          181                          2                    7.66300121077566             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                          702                          3                    7.66300121077566             SEVERE***     </span></span>
<span><span class="co">#&gt;                                   AB12345-BRA-1-id-65                    145                          1                    7.34091885189189              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         191**                         2                    7.34091885189189                MILD       </span></span>
<span><span class="co">#&gt;                                                                          233                          3                    7.34091885189189             SEVERE***     </span></span>
<span><span class="co">#&gt;       C: Combination             AB12345-BRA-1-id-141                    259                          1                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         303**                         2                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                         493**                         3                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                          600                          4                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          635                          5                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                          730                          6                    7.51607612428241             SEVERE***     </span></span>
<span><span class="co">#&gt;                                  AB12345-BRA-1-id-265                    48                           1                     10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         200**                         2                     10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          392                          3                     10.323346349886             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                          403                          4                     10.323346349886               SEVERE      </span></span>
<span><span class="co">#&gt;             NA                   AB12345-BRA-1-id-134                    251                          1                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          304                          2                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                   AB12345-BRA-1-id-42                   39**                          1                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          65                           2                    2.26753940777848             SEVERE***</span></span></code></pre></div>
<p>Finally, we add in the referential footnote text below the listing as
follows.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate listing</span></span>
<span><span class="va">lsting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listings.html">as_listing</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">adae</span>,</span>
<span>  key_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARM"</span>, <span class="st">"USUBJID"</span>, <span class="st">"ASTDY"</span>, <span class="st">"ASEQ"</span><span class="op">)</span>,</span>
<span>  disp_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BMRKR1"</span>, <span class="st">"AESEV"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/title_footer.html" class="external-link">main_footer</a></span><span class="op">(</span><span class="va">lsting</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://insightsengineering.github.io/formatters/latest-tag/reference/title_footer.html" class="external-link">main_footer</a></span><span class="op">(</span><span class="va">lsting</span><span class="op">)</span>, <span class="va">ref_fns</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lsting</span></span>
<span><span class="co">#&gt; Description of Planned Arm   Unique Subject Identifier****   Analysis Start Relative Day   Analysis Sequence Number   Continous Level Biomarker 1   Severity/Intensity</span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt;         A: Drug X                AB12345-BRA-1-id-134                    497                          3                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         608**                         4                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                   AB12345-BRA-1-id-42                   95**                          3                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         160**                         4                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          292                          5                    2.26753940777848                MILD       </span></span>
<span><span class="co">#&gt;                                                                          460                          6                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          470                          7                    2.26753940777848             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                          476                          8                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          497                          9                    2.26753940777848               SEVERE      </span></span>
<span><span class="co">#&gt;                                                                          642                          10                   2.26753940777848             SEVERE***     </span></span>
<span><span class="co">#&gt;         B: Placebo               AB12345-BRA-1-id-236                    22                           1                    7.66300121077566             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                          181                          2                    7.66300121077566             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                          702                          3                    7.66300121077566             SEVERE***     </span></span>
<span><span class="co">#&gt;                                   AB12345-BRA-1-id-65                    145                          1                    7.34091885189189              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         191**                         2                    7.34091885189189                MILD       </span></span>
<span><span class="co">#&gt;                                                                          233                          3                    7.34091885189189             SEVERE***     </span></span>
<span><span class="co">#&gt;       C: Combination             AB12345-BRA-1-id-141                    259                          1                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         303**                         2                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                         493**                         3                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                          600                          4                    7.51607612428241              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          635                          5                    7.51607612428241                MILD       </span></span>
<span><span class="co">#&gt;                                                                          730                          6                    7.51607612428241             SEVERE***     </span></span>
<span><span class="co">#&gt;                                  AB12345-BRA-1-id-265                    48                           1                     10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                         200**                         2                     10.323346349886              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          392                          3                     10.323346349886             SEVERE***     </span></span>
<span><span class="co">#&gt;                                                                          403                          4                     10.323346349886               SEVERE      </span></span>
<span><span class="co">#&gt;             NA                   AB12345-BRA-1-id-134                    251                          1                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          304                          2                    6.46299057842479              MODERATE     </span></span>
<span><span class="co">#&gt;                                   AB12345-BRA-1-id-42                   39**                          1                    2.26753940777848              MODERATE     </span></span>
<span><span class="co">#&gt;                                                                          65                           2                    2.26753940777848             SEVERE***     </span></span>
<span><span class="co">#&gt; ——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; *   ASEQ 1 or 2</span></span>
<span><span class="co">#&gt; **  Analysis start date is imputed</span></span>
<span><span class="co">#&gt; ***  Records with ATOXGR = 5</span></span>
<span><span class="co">#&gt; **** ID column</span></span></code></pre></div>
<p>Now our listing is complete, with all four referential footnotes
denoted within the listing and described in the footnotes section
below.</p>
<hr>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>In this vignette, you have learned how a pre-processing workaround
can be applied to add referential footnotes to listings.</p>
<p><strong>For more information please explore the <a href="https://insightsengineering.github.io/rlistings/main/">rlistings
website</a>.</strong></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>rlistings is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>





  </body>
</html>
